---
title: 1年間の月単位のDateを配列で取得する JS 
date: 2018-10-19
---

文章で説明するのが難しいけど、家計簿っぽいものを作ってると今日の日付から1年前までの月単位の配列データが欲しかったりする。

今日が、2018年9月19日だとすると
```js
[
  'Wed Sep 19 2018 19:35:59 GMT+0900 (日本標準時)',
  'Sun Aug 19 2018 19:35:59 GMT+0900 (日本標準時)',
  'Thu Jul 19 2018 19:35:59 GMT+0900 (日本標準時)',
  'Tue Jun 19 2018 19:35:59 GMT+0900 (日本標準時)',
  'Sat May 19 2018 19:35:59 GMT+0900 (日本標準時)',
  'Thu Apr 19 2018 19:35:59 GMT+0900 (日本標準時)',
  'Mon Mar 19 2018 19:35:59 GMT+0900 (日本標準時)',
  'Mon Feb 19 2018 19:35:59 GMT+0900 (日本標準時)',
  'Fri Jan 19 2018 19:35:59 GMT+0900 (日本標準時)',
  'Tue Dec 19 2017 19:35:59 GMT+0900 (日本標準時)',
  'Sun Nov 19 2017 19:35:59 GMT+0900 (日本標準時)',
  'Thu Oct 19 2017 19:35:59 GMT+0900 (日本標準時)'
]
```
こんな配列が欲しい時

これは下記で取得できる
```js
[...Array(12)].map((_, index) => {
  const today = new Date();
  return new Date(
    today.getFullYear(),
    today.getMonth() - index - 1,
    today.getDate()
  );
});
```

手順的には、
- `[...Array(12)]`で `[undefined, undefined, ...]`が取れて、それをmapする(今回は12ヶ月分の配列が欲しいので)
- `new Date(年, 月, 日)`で指定した日付のDateオブジェクトが取れるので、`today.getMonth() - index - 1`で月をデクリメントしつつ返してあげる

単純だけど、一瞬あれどうだっけ？となるのでメモ。
